<div id="page_content_inner" ng-controller="listasEspera as vm" class="uk-height-1-1">
    <div class="uk-grid uk-grid-medium uk-height-1-1" ng-hide="vm.blnMostarDetalle">
        <div class="uk-width-1-1 uk-height-1-1">
            <div class="uk-panel uk-panel-box uk-panel-box-primary"
                style="border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); background: white; padding: 20px;">
                <div class="md-card-content">
                    <div class="title-container"
                        style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; margin-bottom: 20px;">

                        <!-- Título + icono -->
                        <div style="display: flex; align-items: center; flex: 1 1 auto; min-width: 300px;">
                            <i class="md-icon material-icons" style="margin-right: 8px;"
                                ng-class="{'uk-text-primary': true}">view_list</i>
                            <h1 style="font-size: 24px; color: #333; font-weight: 600; margin: 0;">
                                Resumen de listas de espera
                            </h1>
                        </div>

                        <!-- Input alineado -->
                        <div class="uk-width-1-2">
                            <div class="header_main_search_form search_formPersonalizado">
                                <form class="uk-form">
                                    <input type="text" class="header_main_search_input search_inputPersonalizado"
                                        placeholder="Buscar academias por título o profesor..." ng-model="vm.Filtro"
                                        ng-model-options="{ debounce: 500 }" />
                                    <button class="header_main_search_btn search_btnPersonalizado uk-button-link"><i
                                            class="md-icon material-icons">&#xE8B6;</i></button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Párrafo debajo -->
                    <p class="uk-text-muted uk-margin-small-top" style="font-size: 14px;">
                        Academias con alumnos actualmente en lista de espera.
                    </p>

                </div>

                <div class="uk-grid divContentTabla uk-margin-top">
                    <!--TABLA-->
                    <div class="uk-width-1-1">
                        <div style="height: calc(78vh - 70px);">
                            <table class="uk-table innovat-tablas uk-table-hover">
                                <thead class="innovat-thead">
                                    <tr>
                                        <th class="innovat-campo-dinamico">Academia</th> <!--ORDEN-->
                                        <th class="innovat-campo-pequenio-dinamico">En lista de espera</th>
                                        <th class="innovat-campo-dinamico">Profesor</th>
                                        <th class="innovat-campo-pequenio-dinamico">Ubicacion</th>
                                        <th class="innovat-campo-pequenio-dinamico">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody class="innovat-tbody">
                                    <tr ng-repeat="academia in vm.ListaAcademias | filter: vm.Filtro"
                                        ng-click="vm.DetalleAcademia(academia, $index)" class="innovat-pointer">
                                        <td class=" innovat-campo-dinamico" style="color: #333;">
                                            <g-icono name="{{academia.Icono}}" color="{{academia.Color}}"></g-icono>
                                            <!-- <p style="color: #333;"> -->

                                                {{academia.Nombre}}
                                            <!-- </p> -->
                                        </td>
                                        <td class="innovat-campo-pequenio-dinamico" style="color: #333;">
                                            {{academia.TotalEspera}}</td>
                                        <td class="innovat-campo-dinamico" style="color: #333;">{{academia.Personal}}
                                        </td>
                                        <td class="innovat-campo-pequenio-dinamico" style="color: #333;">
                                            {{academia.Ubicacion}}</td>
                                        <td class="innovat-campo-pequenio-dinamico">
                                            <a href="#">
                                                <i class="md-24 material-icons">&#xe8f4;</i>
                                                <!--<span>Ver detalles</span>-->
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>

                </div>
            </div>

        </div>
    </div>
    <!-- </div> -->
    <div class="uk-grid uk-grid-medium" ng-if="vm.blnMostarDetalle">
        <div class="uk-width-1-1">
            <div class="uk-grid">
                <div class="uk-width-1-1">
                    <button type="button" class="md-btn " ng-click="vm.CerrarDetalle()"><i
                            class="md-24 uk-margin-small-right material-icons">&#xe5c4;</i>Volver</button>
                </div>
            </div>
            <div class="md-card  ">
                <div class="md-card-toolbar"
                    style=" height:120px; background-color:{{vm.AcademiaObject.Color}}!important;">
                    <div class="md-card-toolbar-heading-text " style=" height:120px;">
                        <div class="uk-grid uk-grid-medium uk-margin-top">
                            <div class="uk-width-1-1">
                                <g-icono name="{{vm.AcademiaObject.Icono}}" color="white" size="44"></g-icono><span
                                    class="uk-margin-small-left uk-h1 uk-text-white">{{vm.AcademiaObject.Nombre}}</span>
                                <h3 class="uk-text-white uk-margin-top-remove">{{vm.AcademiaObject.Descripcion}}</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="md-card-content">
                    <div class="uk-grid uk-grid-medium">
                        <div class="uk-width-1-2">
                            <h4>Detalles de la academia</h4>
                            <hr />
                            <ul class="uk-list uk-list-space">
                                <li><i class="md-24 uk-margin-small-right material-icons">&#xe7ef;</i><span
                                        class="uk-h4 uk-text-bold">Profesor: </span><span
                                        class="uk-h4 ">{{vm.AcademiaObject.Personal}}</span></li>
                                <li><i class="md-24 uk-margin-small-right material-icons">&#xe0c8;</i><span
                                        class="uk-h4 uk-text-bold">Ubicación: </span><span
                                        class="uk-h4 ">{{vm.AcademiaObject.Ubicacion}}</span></li>
                                <li><i class="md-24 uk-margin-small-right material-icons">&#xe8b5;</i><span
                                        class="uk-h4 uk-text-bold">Edades: </span><span
                                        class="uk-h4 ">{{vm.AcademiaObject.EdadMinima}} -
                                        {{vm.AcademiaObject.EdadMaxima}}</span></li>
                                <li><i class="md-24 uk-margin-small-right material-icons">&#xe88e;</i><span
                                        class="uk-h4 uk-text-bold">Capacidad: </span><span
                                        class="uk-h4 ">{{vm.AcademiaObject.Inscritos.length}}/{{vm.AcademiaObject.Capacidad}}
                                        ({{vm.AcademiaObject.Capacidad - vm.AcademiaObject.Inscritos.length}} lugares
                                        disponibles)</span></li>
                                <li><i class="md-24 uk-margin-small-right material-icons">&#xe03b;</i><span
                                        class="uk-h4 uk-text-bold">En lista de espera: </span><span
                                        class="uk-h4 ">{{vm.AcademiaObject.Espera.length}}</span></li>
                            </ul>
                        </div>
                        <div class="uk-width-1-2">
                            <h4>Horario</h4>
                            <hr />
                            <ul class="uk-list uk-list-space">
                                <li ng-repeat="horario in vm.AcademiaObject.Horarios">
                                    <i class="md-24 uk-margin-small-right material-icons">&#xebcc;</i><span
                                        class="uk-h4 uk-text-bold">{{horario.Nombre}} </span><span
                                        class="uk-h4 ">{{horario.Inicio}} - {{horario.Fin}}</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="md-card  ">
                <div class="md-card-content">
                    <div class="uk-grid uk-grid-medium">
                        <div class="uk-width-1-1">
                            <h3>Alumnos en lista de espera  ({{vm.AcademiaObject.Espera.length}})</h3>
                        </div>
                    </div>
                    <div class="uk-grid uk-grid-medium" ng-if="vm.AcademiaObject.Espera.length > 0">
                        <div class="uk-width-1-1">
                            <table class="uk-table innovat-tablas uk-table-hover">
                                <thead class="innovat-thead">
                                    <tr>
                                        <th class="innovat-campo-dinamico">Nombre</th>
                                        <th class="innovat-campo-dinamico">Grupo</th>
                                        <th class="innovat-campo-dinamico">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody class="innovat-tbody">
                                    <tr ng-repeat="alumno in vm.AcademiaObject.Espera">
                                        <td class="innovat-campo-dinamico">{{alumno.Nombre}}</td>
                                        <td class="innovat-campo-dinamico">{{alumno.Grupo}}</td>
                                        <td class="innovat-campo-dinamico ">
                                            <span class="uk-text-warning uk-float-right"
                                                ng-if="vm.AcademiaObject.Inscritos.length >= vm.AcademiaObject.Capacidad">La
                                                academia esta llena</span>
                                            <button class="md-btn uk-float-right" ng-click="vm.Inscribir(alumno)"
                                                ng-if="vm.AcademiaObject.Inscritos.length < vm.AcademiaObject.Capacidad"><i
                                                    class="md-24 uk-margin-small-right material-icons">&#xea4d;</i>Inscribir</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
            <div class="md-card  ">
                <div class="md-card-content">
                    <div class="uk-grid uk-grid-medium">
                        <div class="uk-width-1-1">
                            <h3>Alumnos inscritos ({{vm.AcademiaObject.Inscritos.length}})</h3>
                        </div>
                    </div>
                    <div class="uk-grid uk-grid-medium" ng-if="vm.AcademiaObject.Inscritos.length > 0">
                        <div class="uk-width-1-1">
                            <table class="uk-table innovat-tablas uk-table-hover">
                                <thead class="innovat-thead">
                                    <tr>
                                        <th class="innovat-campo-dinamico">Nombre</th>
                                        <th class="innovat-campo-dinamico">Grupo</th>
                                    </tr>
                                </thead>
                                <tbody class="innovat-tbody">
                                    <tr ng-repeat="alumno in vm.AcademiaObject.Inscritos">
                                        <td class="innovat-campo-dinamico">{{alumno.Nombre}}</td>
                                        <td class="innovat-campo-dinamico">{{alumno.Grupo}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>

        </div>

    </div>
</div>